<?xml version="1.0"?>
<assembly>
  <id>app-schema-plugin</id>
  <formats>
    <format>zip</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>${geoserverBaseDir}/release/extensions/app-schema</directory>
      <outputDirectory/>
      <includes>
        <include>*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target/dependency</directory>
      <outputDirectory/>
      <includes>
        <!-- matches both gt-app-schema and gt-app-schema-resolver jars -->
        <include>gs-app-schema-core*.jar</include>
        <include>gt-app-schema-*.jar</include>
        <include>gt-complex-*.jar</include>
        <include>commons-digester-*.jar</include>
      </includes>
      <excludes>
        <exclude>*-tests.jar</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>${geoserverBaseDir}/../data/app-schema-tutorial</directory>
      <outputDirectory>tutorial</outputDirectory>
      <excludes>
        <!-- might have been manually added as an eclipse project -->
        <exclude>**/.project</exclude>
        <!-- might have been used for local testing -->
        <exclude>**/app-schema-cache/**</exclude>
        <exclude>**/geoserver.log</exclude>
        <exclude>**/gwc/**</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>${geoserverBaseDir}/release/target/html/licenses</directory>
      <outputDirectory>licenses</outputDirectory>
      <includes>
        <include>LGPL.html</include>
        <include>GEOTOOLS_NOTICE.html</include>
        <include>GPL.html</include>
        <include>NOTICE.html</include>
      </includes>
    </fileSet>
  </fileSets>
  <files>
    <file>
      <source>${geoserverBaseDir}/release/extensions/app-schema/app-schema-README.md</source>
      <outputDirectory/>
      <destName>README.txt</destName>
    </file>
    <file>
      <source>${geoserverBaseDir}/release/target/html/extensions/app-schema/app-schema-LICENSE.html</source>
      <outputDirectory/>
      <destName>LICENSE.html</destName>
    </file>
    <file>
      <source>${geoserverBaseDir}/release/target/html/extensions/app-schema/app-schema-README.html</source>
      <outputDirectory/>
      <destName>README.html</destName>
    </file>
  </files>
</assembly>
