<assembly>
 <id>bin</id>
 <formats>
  <format>zip</format>
 </formats>
 <includeBaseDirectory>false</includeBaseDirectory>
 <fileSets>
  <fileSet>
   <!-- the main webapp -->
   <directory>web/app/target/geoserver</directory>
   <outputDirectory>webapps/geoserver</outputDirectory>
   <includes>
    <include>**/*</include>
   </includes>
   <excludes>
    <exclude>META-INF</exclude>
    <exclude>META-INF/**/*</exclude>
    <exclude>data</exclude>
    <exclude>data/**/*</exclude>
   </excludes>
  </fileSet>
  <fileSet>
   <!-- the data directory -->
   <directory>web/app/target/geoserver/data</directory>
   <outputDirectory>data_dir</outputDirectory>
   <includes>
    <include>**/*</include>
   </includes>
  </fileSet>
  <fileSet>
   <!-- the libs needed to run jetty -->
   <directory>release/target/dependency</directory>
   <outputDirectory>lib</outputDirectory>
   <includes>
    <include>ant-*.jar</include>
    <include>commons-el-*.jar</include>
    <include>commons-logging-*.jar</include>
    <include>jetty-*.jar</include>
    <include>jetty-util-*.jar</include>
    <include>javax.servlet-api-*.jar</include>
    <include>xmlParserAPIs-*.jar</include>
   </includes>
   <excludes>
    <exclude>log4j-over-slf4j-*.jar</exclude>
    <exclude>jetty-start*.jar</exclude>
   </excludes>
  </fileSet>
  <fileSet>
   <!-- windows batch files -->
   <directory>release/bin</directory>
   <lineEnding>keep</lineEnding>
   <outputDirectory>bin</outputDirectory>
   <includes>
    <include>*.bat</include>
   </includes>
  </fileSet>
  <fileSet>
   <!-- unix shell scripts -->
   <directory>release/bin</directory>
   <lineEnding>unix</lineEnding>
   <outputDirectory>bin</outputDirectory>
   <fileMode>0755</fileMode>
   <directoryMode>0755</directoryMode>
   <includes>
    <include>*.sh</include>
   </includes>
  </fileSet>
  <fileSet>
   <directory>release/target/html</directory>
   <outputDirectory></outputDirectory>
   <includes>
    <include>README.html</include>
    <include>RUNNING.html</include>
   </includes>
  </fileSet>
  <fileSet>
    <directory>release/target/html/licenses</directory>
    <outputDirectory>license</outputDirectory>
    <includes>
       <include>NOTICE.html</include>
       <include>apache-1.1.html</include>
       <include>apache-2.0.html</include>
       <include>epl-1.0.html</include>
       <include>EPSG.html</include>
       <include>GEOTOOLS_NOTICE.html</include>
       <include>HSQL.html</include>
       <include>LGPL.html</include>
       <include>OGC.html</include>
       <include>W3C.html</include>
    </includes>
  </fileSet>
  <fileSet>
   <directory>target</directory>
   <outputDirectory></outputDirectory>
   <includes>
    <include>VERSION.txt</include>
   </includes>
  </fileSet>
  <fileSet>
   <!-- jetty configuration -->
   <directory>release/jetty</directory>
   <outputDirectory></outputDirectory>
   <includes>
    <include>**/*</include>
   </includes>
  </fileSet>
  <fileSet>
   <!-- empty log directory -->
   <directory>release/logs</directory>
   <outputDirectory></outputDirectory>
  </fileSet>
 </fileSets>
 <files>
    <file>
      <source>../licenses/NOTICE.md</source>
      <outputDirectory>license</outputDirectory>
      <destName>NOTICE.txt</destName>
    </file>
    <file>
      <source>release/target/dependency/jetty-start-${jetty.version}-shaded.jar</source>
      <outputDirectory></outputDirectory>
      <destName>start.jar</destName>
    </file>
 </files>
</assembly>
