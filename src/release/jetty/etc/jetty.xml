<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "https://jetty.org/configure_10_0.dtd">

<!-- =============================================================== -->
<!-- Configures a Jetty Server instance with an ID "Server".         -->
<!-- Other configuration files may also configure the "Server"       -->
<!-- ID, in which case they are adding configuration to the same     -->
<!-- instance.  If other configuration have a different ID, they     -->
<!-- will create and configure another Jetty Server instance.        -->
<!-- =============================================================== -->
<Configure id="Server" class="org.eclipse.jetty.server.Server">
  <Arg><Ref refid="threadPool"/></Arg>
  <Arg><Ref refid="scheduler"/></Arg>
  <Arg><Ref refid="byteBufferPool"/></Arg>

  <Set name="defaultHandler">
    <New id="DefaultHandler" class="org.eclipse.jetty.server.handler.DefaultHandler">
      <Arg name="serveFavIcon" type="boolean"><Property name="jetty.server.default.serveFavIcon" default="true"/></Arg>
      <Arg name="showContexts" type="boolean"><Property name="jetty.server.default.showContexts" default="true"/></Arg>
    </New>
  </Set>
  <Set name="handler">
    <New id="Contexts" class="org.eclipse.jetty.server.handler.ContextHandlerCollection">
      <Set name="dynamic" property="jetty.server.contexts.dynamic"/>
    </New>
  </Set>
  <Call name="addBean">
    <Arg>
      <Ref refid="ShutdownService" />
    </Arg>
  </Call>

  <Set name="stopAtShutdown"><Property name="jetty.server.stopAtShutdown" default="true"/></Set>
  <Set name="dumpAfterStart" property="jetty.server.dumpAfterStart"/>
  <Set name="dumpBeforeStop" property="jetty.server.dumpBeforeStop"/>
  <Set name="tempDirectory" property="jetty.server.tempDirectory"/>

</Configure>
